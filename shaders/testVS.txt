#version 300 es

uniform mat4 u_model_view_matrix;
uniform mat4 u_projection_matrix;
uniform vec3 u_direct_light_direction;
uniform vec3 u_direct_light_color;
uniform float u_direct_light_value;

in vec4 a_position;
in vec4 a_color;
in vec4 a_normal;
out vec4 vertex_color;



void main() {

  float lambert_factor = max(0.0f, dot(a_normal.xyz, -u_direct_light_direction))  * u_direct_light_value;

  vertex_color = a_color * vec4(u_direct_light_color * lambert_factor, 1);
  //vertex_color = vec4(u_direct_light_color * lambert_factor, 1);
  gl_Position = u_projection_matrix * u_model_view_matrix * a_position;
}